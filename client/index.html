<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Template • TodoMVC</title>
		<link rel="stylesheet" href="node_modules/todomvc-common/base.css">
		<link rel="stylesheet" href="node_modules/todomvc-app-css/index.css">
		<!-- CSS overrides - remove if you don't need it -->
		<link rel="stylesheet" href="css/app.css">
	</head>
	<body>
        <div id="main"></div>

		<!-- Scripts here. Don't remove ↓ -->
		<script src="node_modules/todomvc-common/base.js"></script>
        <script src="js/vendor/react-0.14.2.min.js"></script>
        <script src="js/vendor/react-dom-0.14.2.min.js"></script>
        <!--
        <script src="js/vendor/react.js"></script>
        <script src="js/vendor/react-dom.js"></script>
        -->
        <script src="js/vendor/pollymer-1.1.1.js"></script>
        <script src="js/vendor/websockhop-1.0.1.js"></script>
        <script src="js/vendor/liveresource-0.1.1.min.js"></script>
        <script src="node_modules/director/build/director.min.js"></script>
        <script src="js/build/bundle.js"></script>

		<script src="js/app.js"></script>

        <script src="node_modules/babel-core/browser.min.js"></script>
        <script>
            var API_ENDPOINT = "http://todomvc-api.liveresource.org/todos/";

            var main = ReactDOM.render(React.createElement(Main), document.getElementById('main'));
            var todoApp = main.getTodoApp();

            /* Supposed to do this here */
            /*
            var liveResource = new LiveResource(API_ENDPOINT);
            liveResource.on("ready", function(data) {
                todoApp.syncItems(data);
            });
            */

            Utilities.ajax({
                method: 'GET',
                endpoint: API_ENDPOINT,
                success: function(data) {
                    var responses = JSON.parse(data);
                    todoApp.syncItems(responses);
                }
            });

            /*
            todoApp.addItems([{id: 1, text: "ABC", completed: false}]);
            todoApp.addItems([{id: 2, text: "DEF", completed: true}]);
            */

        </script>

    </body>
</html>
